;; -*- mode: wat -*-

(core module $LengthCoreWasm
  (func (export "run") (result i32)
    (i32.const 1))
  (memory (export "mem") 1)
  (func (export "realloc") (param i32 i32 i32 i32) (result i32)
    i32.const 0))

(core instance $length_instance (instantiate $LengthCoreWasm))

(func (export "cli-run") (result u32)
  (canon lift
    (core func $length_instance "run")
    (memory $length_instance "mem")
    (realloc (func $length_instance "realloc"))))
